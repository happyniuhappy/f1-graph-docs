(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1416:function(t,a,s){"use strict";s.r(a);var n=s(30),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_2-部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署"}},[t._v("#")]),t._v(" 2.部署")]),t._v(" "),s("blockquote",[s("p",[t._v("图形平台服务端依赖于f14.0微服务平台，部署之前必须已经部署f1微服务，这里不在重复部署步骤，详细参见f1微服务部署手册。\n图形平台主要包含：前端微服务、服务端微服务。")])]),t._v(" "),s("h2",{attrs:{id:"_2-1配置参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1配置参数"}},[t._v("#")]),t._v(" 2.1配置参数")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_2-1-1客户端参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1客户端参数"}},[t._v("#")]),t._v(" 2.1.1客户端参数")]),t._v(" "),s("ul",[s("li",[t._v("客户端网络要求")])]),t._v(" "),s("p",[t._v("局域网环境；")]),t._v(" "),s("p",[t._v("在TCP/IP协议下的固定或动态IP地址；")]),t._v(" "),s("ul",[s("li",[t._v("客户端硬件要求")])]),t._v(" "),s("p",[t._v("硬盘：50M以上剩余空间；")]),t._v(" "),s("p",[t._v("内存：128M以上；")]),t._v(" "),s("p",[t._v("CPU：1.5GHz以上")]),t._v(" "),s("ul",[s("li",[t._v("客户端软件要求")])]),t._v(" "),s("p",[t._v("微软视窗系列操作系统（Windows2000以上）/Andriod4+/IOS")]),t._v(" "),s("p",[t._v("浏览器IE11+/Chrome/Safari")]),t._v(" "),s("h3",{attrs:{id:"_2-1-2服务器端参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2服务器端参数"}},[t._v("#")]),t._v(" 2.1.2服务器端参数")]),t._v(" "),s("ul",[s("li",[t._v("服务器网络要求")])]),t._v(" "),s("p",[t._v("局域网环境；能连接到因特网（可选）；")]),t._v(" "),s("p",[t._v("在TCP/IP协议下的固定IP地址，或者动态IP加动态域名；")]),t._v(" "),s("ul",[s("li",[t._v("服务器硬件要求")])]),t._v(" "),s("p",[t._v("硬盘：5G以上剩余空间；")]),t._v(" "),s("p",[t._v("内存：4GB以上；")]),t._v(" "),s("p",[t._v("CPU：奔腾PentiumⅣ系列，主频1.5GHz以上，")]),t._v(" "),s("p",[t._v("在线人数达到500人以上，上建议使用双CPU服务器；")]),t._v(" "),s("p",[t._v("磁盘阵列/光盘库/磁带机（可选）；")]),t._v(" "),s("ul",[s("li",[t._v("服务器软件要求")])]),t._v(" "),s("p",[t._v("微软视窗系统环境（Windows2000 Server以上）；")]),t._v(" "),s("h3",{attrs:{id:"_2-1-3技术参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3技术参数"}},[t._v("#")]),t._v(" 2.1.3技术参数")]),t._v(" "),s("p",[t._v("1) 平均无故障时间（MTBF）：≥4760小时；")]),t._v(" "),s("p",[t._v("2) 画面调用时间：<10秒；")]),t._v(" "),s("p",[t._v("3) 画面实时数据刷新时间：5秒～30秒；")]),t._v(" "),s("p",[t._v("4) 实时数据查询响应时间：<3秒；")]),t._v(" "),s("p",[t._v("5) 历史数据查询响应时间：<10秒；")]),t._v(" "),s("p",[t._v("6) 正常情况下CPU负载：≤20%（一分钟均值）")]),t._v(" "),s("p",[t._v("7) 事故情况下CPU负载：≤50%")]),t._v(" "),s("p",[t._v("8) 系统可用率： ≥99.9%")]),t._v(" "),s("h2",{attrs:{id:"_2-2服务端微服务部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2服务端微服务部署"}},[t._v("#")]),t._v(" 2.2服务端微服务部署")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("进入f1微服务部署的根目录下，使用的步骤如下：")]),t._v(" "),s("p",[t._v("第一步：f1-giscore-service、f1-gisadvance-service两个文件夹放入微服根目录下。")]),t._v(" "),s("p",[t._v("第二步：lib文件夹是图形引用jar包，需要与平台部署的lib合并。")]),t._v(" "),s("p",[t._v("第三步：打开bootstrap.properties、application.properties文件，修改相关配置地址及数据库路径。")]),t._v(" "),s("p",[t._v('第三步：进入图形微服务目录下，打开命令行窗口，输入"java -jar f1-giscore-service-3.0.0-RELEASE.jar"（linux：java -jar f1-giscore-service-3.0.0-RELEASE.jar &）启动命令。')]),t._v(" "),s("p",[t._v("注：使用服务的默认配置文件，不要使用平台默认的通用配置文件。")]),t._v(" "),s("h2",{attrs:{id:"_2-3-前端微服务部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-前端微服务部署"}},[t._v("#")]),t._v(" 2.3 前端微服务部署")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("依赖：Vue2.6.10以上版本。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-1-安装模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-安装模块"}},[t._v("#")]),t._v(" 2.3.1 安装模块")]),t._v(" "),s("p",[t._v("使用joinbright的npm库进行安装。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 安装nrm，管理npm镜像地址\nnpm install nrm -g\n// 添加私服地址，名称为joinbright\nnrm add joinbright http://192.168.1.172:8081/repository/npm-all/\n// 切换镜像到私服\nnrm use joinbright\n// 插入图形组件库\nnpm install f1-graph-vue\n")])])]),s("h3",{attrs:{id:"_2-3-1-vue配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-vue配置"}},[t._v("#")]),t._v(" 2.3.1 Vue配置")]),t._v(" "),s("p",[t._v("vue工程目录下，在vue.config.js内添加如下配置，能够解析joint依赖：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack相关配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("chainWebpack")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生产环境下使用压缩文件，不在进行loader处理")]),t._v("\n        config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alias"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'joint$'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jointjs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开发环境使用joint源码引用")]),t._v("\n        config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resolve"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alias"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'joint$'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jointjs/joint.mjs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_2-4认证授权方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4认证授权方式"}},[t._v("#")]),t._v(" 2.4认证授权方式")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("统一使用f1微服务平台的认证授权机制。")])])}),[],!1,null,null,null);a.default=r.exports}}]);